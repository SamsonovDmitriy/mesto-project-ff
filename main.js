(()=>{"use strict";var e=document.querySelector("#card-template").content;function t(t,n,r,o,c){var a=e.cloneNode(!0),p=a.querySelector(".card__like-button"),s=a.querySelector(".card__image"),i=a.querySelector(".card__title"),l=a.querySelector(".card__delete-button");return s.src=n,s.alt=t,i.textContent=t,l.addEventListener("click",r),p.addEventListener("click",o),s.addEventListener("click",(function(){return c(t,n)})),a}function n(e){e.target.classList.contains("card__like-button")&&e.target.classList.toggle("card__like-button_is-active")}function r(e){e.target.closest(".places__item").remove()}function o(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",a),document.addEventListener("click",p)}function c(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",a),document.removeEventListener("click",p)}function a(e){"Escape"===e.key&&c(document.querySelector(".popup_is-opened"))}function p(e){e.target===document.querySelector(".popup_is-opened")&&c(e.target)}var s=document.querySelector(".page__content"),i=s.querySelector(".places").querySelector(".places__list"),l=s.querySelectorAll(".popup"),d=s.querySelector(".popup_type_image"),u=s.querySelector(".popup_type_edit"),m=s.querySelector(".popup_type_new-card"),_=s.querySelector(".profile__edit-button"),y=s.querySelector(".profile__add-button"),v=s.querySelector(".popup__image"),f=s.querySelector(".popup__caption"),k=document.forms,q=k["edit-profile"],S=q.elements.name,g=q.elements.description,L=s.querySelector(".profile__title"),E=s.querySelector(".profile__description"),h=k["new-place"],x=h.elements["place-name"],b=h.elements.link;function j(e,t){o(d),v.src=t,f.alt=e,f.textContent=e}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){i.append(t(e.name,e.link,r,n,j))})),_.addEventListener("click",(function(){return o(u)}),S.value=L.textContent,g.value=E.textContent),y.addEventListener("click",(function(){return o(m)})),Array.from(l).forEach((function(e){e.querySelector(".popup__close").addEventListener("click",(function(){return c(e)}))})),q.addEventListener("submit",(function(e){e.preventDefault(),L.textContent=S.value,E.textContent=g.value,c(u)})),h.addEventListener("submit",(function(e){e.preventDefault();var o=x.value,a=b.value;i.prepend(t(o,a,r,n,j)),c(m),h.reset()}))})();